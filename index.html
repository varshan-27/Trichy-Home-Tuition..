<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trichy Home Tuition</title>
<style>
body { font-family: 'Arial', sans-serif; padding:50px 20px 20px 20px; background:#f5f5f5; text-align:center; margin:0; }
.scrollingMessage { position: fixed; top: 0; width: 100%; background: #ffeb3b; color: #000; font-weight: bold; padding: 10px 0; font-size: 18px; white-space: nowrap; overflow: hidden; z-index: 1002; }
.scrollingMessage span { display: inline-block; padding-left: 100%; animation: scrollText 15s linear infinite; }
@keyframes scrollText { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

h1 { color:#00796b; margin:80px 0 5px 0; font-size:36px; }
p.address { color:#00796b; font-size:18px; margin:0 0 10px 0; }

#dashboardBtn { position:fixed; top:50px; right:20px; padding:10px 20px; background:#009688; color:white; border:none; border-radius:8px; font-weight:bold; cursor:pointer; z-index:1001; }
#backBtn { position:fixed; top:50px; left:20px; padding:6px 10px; background:#f44336; color:white; border:none; border-radius:6px; cursor:pointer; font-size:14px; display:none; z-index:1001; }

#dashboardModal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.6); justify-content:center; align-items:center; z-index:999; }
#dashboardContent { background:#fff; max-height:90%; overflow-y:auto; width:90%; padding:20px; border-radius:15px; position:relative; color:#000; }
#closeDashboard { position:absolute; top:10px; right:10px; background:#f44336; color:white; border:none; padding:6px 12px; border-radius:8px; cursor:pointer; }

#loginContainer { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.6); justify-content:center; align-items:center; z-index:1000; }
#loginBox { background:#fff; padding:20px; border-radius:15px; width:300px; text-align:center; }
#loginBox input { margin-bottom:10px; width:90%; padding:6px; }
#loginBox button { width:95%; }

.container { display:flex; flex-direction:column; gap:30px; align-items:center; margin-top:30px; }

.box { background:#fff; padding:20px 30px; border-radius:15px; box-shadow:0 4px 10px rgba(0,0,0,0.1); width:300px; cursor:pointer; transition:0.3s; display:flex; flex-direction:column; align-items:center; text-align:center; font-size:18px; }
.box:hover { transform:scale(1.05); background:#009688; color:white; }
.box img { width:80px; height:80px; object-fit:cover; margin-bottom:10px; border-radius:50%; }

form { background:#fff; padding:20px; border-radius:15px; max-width:400px; margin:30px auto; box-shadow:0 4px 10px rgba(0,0,0,0.1); display:none; position:relative; font-size:16px; }
input, button, select, textarea { padding:10px; margin:8px 0; border-radius:5px; border:1px solid #ccc; font-size:16px; }
input, select, textarea { width: auto; }
button { background:#00796b; color:white; border:none; cursor:pointer; font-size:16px; }
button:hover { background:#004d40; }

.successMsg { color:green; margin-top:15px; font-size:16px; }
.loading { margin-top:10px; font-weight:bold; color:#00796b; animation:blink 1s infinite; font-size:16px; }
@keyframes blink { 50% { opacity:0.5; } }

table { border-collapse: collapse; width:100%; margin-top:20px; color:#000; font-size:16px; }
th, td { border:1px solid #333; padding:8px; text-align:left; color:#000; }
th { background:#009688; color:white; }
.deleteBtn { background:#f44336; color:white; border:none; padding:4px 8px; border-radius:5px; cursor:pointer; font-size:14px; }
.deleteBtn:hover { background:#c62828; }

/* Enhanced highlightBox for professional look */
.highlightBox { 
  border: 2px solid #007BFF; 
  border-radius: 20px; 
  background: linear-gradient(135deg, #E0F7FA, #FFFFFF); 
  padding: 40px 35px; 
  margin: 25px auto; 
  max-width: 950px; 
  font-size: 18px; 
  font-weight: 500; 
  line-height: 1.8; 
  color: #000; 
  box-shadow: 0 8px 20px rgba(0,0,0,0.25); 
  text-align: left; 
  transition: transform 0.3s, box-shadow 0.3s;
}
.highlightBox:hover {
  transform: translateY(-5px);
  box-shadow: 0 12px 25px rgba(0,0,0,0.35);
}
.highlightBox h2 { 
  color: #0056b3; 
  margin-bottom: 15px; 
  font-size: 26px; 
  text-decoration: underline;
}
.highlightBox p { 
  color: #000; 
  font-weight: 500; 
}
</style>
</head>
<body>

<div class="scrollingMessage"><span> Learning made easy and fun!, Admissions are going on, Enroll Now, 5+ years of experience helping students excel,</span></div>

<h1>Trichy Home Tuition</h1>
<p class="address">Sanjeevinagar, Trichy-620002</p>
<p class="address">Contact: 8668194510</p>

<button id="dashboardBtn">Dashboard</button>
<button id="backBtn" onclick="goBack()">Back</button>

<div class="container" id="landingPage">

  <div class="highlightBox">
    <h2>About Us</h2>
    <p>We are a dedicated home tuition service focused on helping students excel academically. Our mission is to provide quality education that is both personalized and effective, making learning a rewarding experience for every student.</p>
  </div>

  <div class="box" onclick="showForm('studentForm')"><img src="https://img.icons8.com/color/96/online--v1.png">Student Registration</div>
  <div class="box" onclick="showForm('tutorForm')"><img src="https://img.icons8.com/color/96/teacher.png">Tutor Registration</div>

  <div class="highlightBox">
    <h2>Our Experience</h2>
    <p>With over 5 years of hands-on experience in home tuition, we have successfully guided numerous students across various subjects and grade levels. Our expertise allows us to identify each student’s strengths and weaknesses, ensuring targeted and impactful teaching.</p>
  </div>

  <div class="highlightBox">
    <h2>Our Services</h2>
    <p>We provide online classes across Tamil Nadu and personalized home tuition in Trichy, ensuring flexible and effective learning for all students. Our tutors provide concept clarity and doubt-solving sessions to strengthen understanding in all subjects.</p>
  </div>

  <div class="highlightBox">
    <h2>Why Choose Us?</h2>
    <p>Choosing us means choosing a tutor who cares about your success. We offer personalized lessons, clear explanations, and continuous support to help students build confidence, strengthen their knowledge, and achieve their academic goals efficiently.</p>
  </div>

</div> <!-- landingPage ends -->

<form id="studentForm">
  <h2>Student Registration</h2>
  <select name="mode" required>
    <option value="">Select Mode</option>
    <option value="Online">Online</option>
    <option value="Offline">Offline</option>
  </select>
  <input name="name" placeholder="Name" required>
  <input name="email" type="email" placeholder="Email" required>
  <input name="phone" placeholder="Phone Number" required>
  <input name="class" placeholder="Class" required>
  <input name="school" placeholder="School" required>
  <select name="board" required>
    <option value="">Select Board</option>
    <option value="State">State</option>
    <option value="CBSE">CBSE</option>
    <option value="Others">Others</option>
  </select>
  <input name="date" type="date" required>
  <input name="address" placeholder="Address (if offline)">
  <button type="submit">Register</button>
  <div class="loading" style="display:none;">⏳ Submitting...</div>
  <div id="studentSuccess" class="successMsg"></div>
</form>

<form id="tutorForm">
  <h2>Tutor Registration</h2>
  <input name="name" placeholder="Name" required>
  <select name="qualification" required>
    <option value="">Select Qualification</option>
    <option value="Undergraduate">Undergraduate</option>
    <option value="Postgraduate">Postgraduate</option>
  </select>
  <input name="phone" placeholder="Phone" required>
  <input name="email" placeholder="Email" required>
  <button type="submit">Register</button>
  <div class="loading" style="display:none;">⏳ Submitting...</div>
  <div id="tutorSuccess" class="successMsg"></div>
</form>

<div id="loginContainer"><div id="loginBox">
  <h3>Head Login</h3>
  <input id="username" placeholder="Username"><br>
  <input id="password" type="password" placeholder="Password"><br>
  <button id="loginBtn">Login</button>
</div></div>

<div id="dashboardModal"><div id="dashboardContent">
  <button id="closeDashboard">Close</button>
  <div id="dashboardContainer"></div>
</div></div>

<script>
const scriptURL="https://script.google.com/macros/s/AKfycbz33sQ_-VL1hWlrU67E-AbSTtplv3uS94QSQ-YzGB5j8eyz8P1D-wh1RMRn-bGJdno2/exec";

function showForm(formId){
  document.getElementById('landingPage').style.display='none';
  document.getElementById('backBtn').style.display='block';
  ['studentForm','tutorForm'].forEach(f=>document.getElementById(f).style.display=(f===formId?'block':'none'));
  document.querySelectorAll('.successMsg').forEach(div=>div.innerHTML='');
}
function goBack(){
  document.getElementById('landingPage').style.display='flex';
  document.getElementById('backBtn').style.display='none';
  ['studentForm','tutorForm'].forEach(f=>document.getElementById(f).style.display='none');
}

function submitForm(formId,sheetName){
  const form=document.getElementById(formId);
  const successDiv=document.getElementById(formId==='studentForm'?'studentSuccess':'tutorSuccess');
  const loadingDiv=form.querySelector('.loading');
  form.addEventListener('submit',function(e){
    e.preventDefault();
    const data={}; for(let el of form.elements){ if(el.name)data[el.name]=el.value; }
    loadingDiv.style.display="block";
    fetch(scriptURL,{method:'POST',body:JSON.stringify({sheet:sheetName,entry:data})})
    .then(()=>{ successDiv.innerHTML="Registration successful!"; loadingDiv.style.display="none"; form.reset(); setTimeout(()=>{goBack();},2000); })
    .catch(()=>{ successDiv.innerHTML="Error! Please try again."; loadingDiv.style.display="none"; });
  });
}
submitForm('studentForm','Students');
submitForm('tutorForm','Tutors');

const loginContainer=document.getElementById("loginContainer");
const dashboardModal=document.getElementById("dashboardModal");
const dashboardContainer=document.getElementById("dashboardContainer");
document.getElementById("dashboardBtn").addEventListener("click",()=>{loginContainer.style.display="flex";});
document.getElementById("loginBtn").addEventListener("click",()=>{ 
  const username=document.getElementById("username").value;
  const password=document.getElementById("password").value;
  if(username==="head" && password==="head123"){
    loginContainer.style.display="none";
    fetch(scriptURL+"?password=head123").then(res=>res.json()).then(data=>{
      dashboardContainer.innerHTML=buildTable("Students",data.students)+buildTable("Tutors",data.tutors);
      dashboardModal.style.display="flex";
    }).catch(()=>alert("Error fetching dashboard!"));
  }else alert("Wrong credentials!");
});
function buildTable(title,data){
  let html=`<h2>${title}</h2><table><tr>`;
  data[0].forEach(h=>html+=`<th>${h}</th>`); html+=`<th>Action</th></tr>`;
  data.slice(1).forEach((r,index)=>{ html+=`<tr>`; r.forEach(c=>html+=`<td>${c}</td>`); html+=`<td><button class="deleteBtn" onclick="deleteRow('${title}',${index+2},this)">Delete</button></td></tr>`; });
  html+=`</table>`; return html;
}
function deleteRow(sheetName,rowNumber,btn){
  fetch(scriptURL+"?password=head123&delete="+sheetName+"&row="+rowNumber).then(res=>res.json()).then(()=>{btn.closest('tr').remove();}).catch(()=>alert("Error deleting row!"));
}
document.getElementById("closeDashboard").addEventListener("click",()=>{dashboardModal.style.display="none";});
window.addEventListener("click",e=>{ if(e.target===dashboardModal) dashboardModal.style.display="none"; if(e.target===loginContainer) loginContainer.style.display="none"; });
</script>
</body>
</html>
``
